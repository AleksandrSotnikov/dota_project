
В Dota 2 каждая игра проходит через различные этапы, определяемые состояниями DOTA_GameState. Эти состояния используются для контроля логики игры и предоставляют информацию о текущем состоянии игрового процесса. Давай рассмотрим каждую из этих стадий:

Описание стадий DOTA_GameState
DOTA_GAMERULES_STATE_INIT

Описание: Начальная стадия, когда игра только что была инициализирована. На этом этапе правила игры и игровые параметры ещё не установлены. Обычно этот этап происходит очень быстро.
DOTA_GAMERULES_STATE_WAIT_FOR_PLAYERS_TO_LOAD

Описание: Игра ожидает, пока все игроки загрузят карту. Этот этап может длиться до тех пор, пока все игроки не загрузятся или не истечёт тайм-аут ожидания.
DOTA_GAMERULES_STATE_CUSTOM_GAME_SETUP

Описание: В этой стадии проводится настройка пользовательской игры, если в ней предусмотрены дополнительные параметры или конфигурации, которые должны быть выбраны игроками.
DOTA_GAMERULES_STATE_PLAYER_DRAFT

Описание: Стадия драфта игроков, когда они выбирают героев или распределяются по командам. Эта стадия обычно не используется в обычных играх, но может быть задействована в кастомных режимах или турнирах.
DOTA_GAMERULES_STATE_HERO_SELECTION

Описание: Стадия выбора героев. Здесь игроки выбирают своих героев из пула, который доступен для данной игры.
DOTA_GAMERULES_STATE_STRATEGY_TIME

Описание: Время стратегии — это небольшое окно времени, которое даётся игрокам для обсуждения тактики перед началом игры. Обычно появляется после того, как все герои выбраны.
DOTA_GAMERULES_STATE_TEAM_SHOWCASE

Описание: Краткая стадия, когда показываются все выбранные герои каждой команды. Этот этап используется для демонстрации выбранных героев.
DOTA_GAMERULES_STATE_WAIT_FOR_MAP_TO_LOAD

Описание: Этот этап применяется в особых ситуациях, когда карта игры должна быть загружена или перезагружена. Используется нечасто и обычно в кастомных играх.
DOTA_GAMERULES_STATE_PRE_GAME

Описание: Стадия перед началом игры. В это время игроки могут перемещаться по базе и готовиться к старту. Также в этот момент могут начаться квесты или другие действия, которые не требуют непосредственно игрового процесса.
DOTA_GAMERULES_STATE_SCENARIO_SETUP

Описание: Эта стадия применяется в кастомных сценариях или специальных игровых режимах, которые требуют особой настройки или подготовки.
DOTA_GAMERULES_STATE_GAME_IN_PROGRESS

Описание: Основная стадия игры, когда все события, бои и действия происходят. В этом состоянии игроки управляют своими героями, сражаются и выполняют задачи.
DOTA_GAMERULES_STATE_POST_GAME

Описание: Стадия после окончания игры, когда определяются победители и происходит завершение игровой сессии. На этом этапе можно показать статистику, результаты или просто завершить игру.
DOTA_GAMERULES_STATE_DISCONNECT

Описание: Это состояние происходит в случае отключения от игры, или когда игра завершена и все игроки отключаются от сервера.
Использование состояний
Эти состояния позволяют разработчикам отслеживать и выполнять определённую логику игры в зависимости от этапа, в котором находится игровой процесс. В твоём случае, ты ждёшь перехода игры в DOTA_GAMERULES_STATE_GAME_IN_PROGRESS, чтобы запустить таймер и начать спавн крипов.